<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <meta name="description" content="Software development using .NET, C#, SQL, Javascript and related technologies" />

    <title>Mikhail Shilkov</title>
    <meta name="author" content="Mikhail Shilkov">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/feed/" rel="alternate" title="mikhail.io" type="application/atom+xml">
    <link href="/favicon.ico?v=2" rel="shortcut icon">

    <!-- Bootstrap -->
    <link href="/styles/site.css" rel="stylesheet" media="screen">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/scripts/vendor/html5shiv.js"></script>
    <script src="/scripts/vendor/respond.min.js"></script>
    <![endif]-->

    <meta name="generator" content="DocPad v6.78.4" />
    
</head>
<body>

<div class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">
                <span class="text-primary">Mikhail Shilkov</span><br />
                <span class="elevator-pitch">.NET, SQL and Javascript programmer</span>
            </a>
        </div>
        <div class="collapse navbar-collapse navbar-right">
            <ul class="nav navbar-nav">
                <!--<li><a href="/">Blog</a></li>-->
                
                <li><a href="/">Blog</a></li>
                <li><a href="/about">About</a></li>
                <li class="hidden-xs">
                    <a href="/feed/" class="rss"><span class="icon icon-feed"></span></a>
                    <a href="https://www.linkedin.com/in/mikhailshilkov" class="linkedin"><span class="icon icon-linkedin"></span></a>
                    <a href="http://twitter.com/mikhailshilkov" class="twitter"><span class="icon icon-twitter"></span></a>
                    <a href="https://github.com/mikhailshilkov" class="github"><span class="icon icon-github"></span></a>
                </li>
            </ul>
            <form class="navbar-form navbar-right hidden-xs" role="search" action="http://google.com/search"
                  method="get">
                <div class="form-group">
                    <input type="search" name="q" class="form-control" placeholder="Search">
                    <input type="hidden" name="q" value="site:mikhail.io">
                </div>
            </form>
        </div>
    </div>
</div>
<div class="container">
    
    <article class="post">
    <div class="post-date">Jan 13th, 2016</div>
    
    <h1><a href='/2016/01/fire-and-forget-in-service-fabric-actors'>Fire-and-forget in Service Fabric actors</a></h1>
    
    <div class="post-content">
        <p>At the <a href="http://www.meetup.com/Webscale-Architecture-NL/events/225979118/">recent Webscale Architecture meetup</a> 
we discussed two implementations of the Actor model in the .NET ecosystem: 
<a href="http://akka.net">Akka.NET</a> and <a href="https://azure.microsoft.com/en-us/documentation/articles/service-fabric-reliable-actors-introduction/">Azure Service Fabric Actors</a>. 
One important discussion was
around <strong>Ask</strong> vs <strong>Tell</strong> call model. With <strong>Tell</strong> model, the Sender just sends the
message to the Recepient without waiting for a result to come back. <strong>Ask</strong> model
means the Sender will at some point get a response back from the Receiver, potencially
blocking its own execution.</p>
<p>The default model of Akka.NET is <strong>Tell</strong>:</p>
<blockquote>
<p><strong>Tell: Fire-forget</strong></p>
<p>This is the preferred way of sending messages. No blocking waiting for 
a message. This gives the best concurrency and scalability characteristics.</p>
</blockquote>
<p>On the contrary, the default model for Service Fabric Actors is RPC-like
<strong>Ask</strong> model. Let&#39;s have a close look at this model, and then see how we can
implement <strong>Tell</strong> (or <strong>Fire-and-Forget</strong>) model.</p>
<p>Actor definition starts with an interface:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IHardWorkingActor</span> : <span class="hljs-title">IActor</span>
{
    <span class="hljs-function">Task <span class="hljs-title">DoWork</span><span class="hljs-params">(<span class="hljs-keyword">string</span> payload)</span></span>;
}
</code></pre><p>As you can see, the method does not return any useful data, which means
the client code isn&#39;t really interested in waiting for the operation to
complete. Here&#39;s how we implement this interface in the Actor class:</p>
<pre class="highlight"><code class="hljs vala"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HardWorkingActor</span> : <span class="hljs-title">Actor</span>, <span class="hljs-title">IHardWorkingActor</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task DoWork(<span class="hljs-keyword">string</span> payload)
    {
        ActorEventSource.Current.ActorMessage(<span class="hljs-keyword">this</span>, <span class="hljs-string">"Doing Work"</span>);
        await Task.Delay(<span class="hljs-number">500</span>);
    }
}
</code></pre><p>This test implementation simulates the hard work by means of an artificial 500 ms delay.</p>
<p>Now, let&#39;s look at the client code. Let&#39;s say, the client receives the payloads
from a queue or a web front-end and needs to go as fast as possible. It gets a payload,
creates an actor proxy to dispatch the payload to, then it just wants 
to continue with the next payload. Here is the &quot;Ask&quot; implementation based on 
the Service Fabric samples:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> timer = <span class="hljs-keyword">new</span> Stopwatch();
timer.Start();
<span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>)
{
    <span class="hljs-keyword">var</span> proxy = ActorProxy.Create&lt;IHardWorkingActor&gt;(ActorId.NewId(), <span class="hljs-string">"fabric:/Application1"</span>);
    <span class="hljs-keyword">await</span> proxy.DoWork($<span class="hljs-string">"Work ${i++}"</span>);
    Console.WriteLine($<span class="hljs-string">@"Sent work to Actor {proxy.GetActorId()}, 
                         rate is {i / timer.Elapsed.TotalSeconds}/sec"</span>);
}
</code></pre><p>Note an <code>await</code> operator related to every call. That means that the client will
block until the actor work is complete. When we run the client, no surprise that
we get the rate of about 2 messages per second:</p>
<pre class="highlight"><code class="hljs applescript">Sent work <span class="hljs-keyword">to</span> Actor <span class="hljs-number">1647857287613311317</span>, rate <span class="hljs-keyword">is</span> <span class="hljs-number">1</span>,<span class="hljs-number">98643230380293</span>/sec
</code></pre><p>That&#39;s not very exciting. What we want instead is to tell the actor to do the
work and immediately proceed to the next one. Here&#39;s how the client call should
look like:</p>
<pre class="highlight"><code class="hljs bash">proxy.DoWork($<span class="hljs-string">"Work <span class="hljs-variable">${i++}</span>"</span>).FireAndForget();
</code></pre><p>Instead of <code>await</code>-ing, we make a <code>Task</code>, pass it to some (not yet existing)
extension method and proceed immediately. It appears that the implementation 
of such extension method is trivial:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TaskHelper</span>
{       
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">FireAndForget</span><span class="hljs-params">(<span class="hljs-keyword">this</span> Task task)</span>
    </span>{
        Task.Run(<span class="hljs-keyword">async</span>() =&gt; <span class="hljs-keyword">await</span> task).ConfigureAwait(<span class="hljs-keyword">false</span>);
    }
} 
</code></pre><p>The result looks quite different from what we had before:</p>
<pre class="highlight"><code class="hljs applescript">Sent work <span class="hljs-keyword">to</span> Actor -<span class="hljs-number">8450334792912439527</span>, rate <span class="hljs-keyword">is</span> <span class="hljs-number">408</span>,<span class="hljs-number">484162592517</span>/sec
</code></pre><p>400 messages per second, which is some 200x difference... </p>
<p>The conclusions are simple:</p>
<ul>
<li><p>Service Fabric is a powerful platform and programming paradigm which doesn&#39;t
limit your choice of communication patterns</p>
</li>
<li><p>Design the communication models carefully based on your use case, don&#39;t
take the defaults for granted</p>
</li>
</ul>

    </div>

    

    
    <div class="post-tags">
        Posted In: <a href='/tags/actor-model/'>Actor model</a>, <a href='/tags/azure/'>Azure</a>, <a href='/tags/akka.net/'>Akka.NET</a>, <a href='/tags/service-fabric/'>Service Fabric</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Jan 6th, 2016</div>
    
    <h1><a href='/2016/01/validation-with-either-data-type-in-csharp'>Validation with Either data type in C#</a></h1>
    
    <div class="post-content">
        <p>In this article we will employ a functional monadic concept <strong>Either</strong> to make validation
code more expressive and easier to maintain.</p>
<h2 id="problem">Problem</h2>
<p>Let&#39;s say we get a request from some client code and we need to check if this
request is actually valid. If it&#39;s not valid, we want to make a detailed description
of the problems that we identified. If it is valid, we want to produce a response
about the successful acceptance of the request. Let&#39;s define the classes:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Request</span> { ... }
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Response</span> { ... }
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ValidationError</span> { ... }
</code></pre>
<p>Now, we need a function which would accept a <code>Request</code> and would return <code>Response</code>
or <code>ValidationError</code>. Let&#39;s look at some possible solutions.</p>
<h2 id="throw-an-exception">Throw an exception</h2>
<p>Validation <em>error</em> sounds like it could be an exception:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword">public</span> Response <span class="hljs-title">Validate</span><span class="hljs-params">(Request r)</span>
</span>{
   <span class="hljs-keyword">if</span> (!Valid(r))
       <span class="hljs-function"><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title">ValidationException</span><span class="hljs-params">(<span class="hljs-keyword">new</span> ValidationError(...)</span>)</span>;

   <span class="hljs-function"><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title">Response</span><span class="hljs-params">(r)</span></span>;
}
</code></pre>
<p>This approach is really bad though. You have to declare a special exception
class to hold the validation error. But even worse, exception handling is not
explicit - you don&#39;t see the exception type when you look at method signature.
Client processing code is going to be messed up because of exception handling.
Never use exceptions for your business logic flow.</p>
<h2 id="output-parameter">Output parameter</h2>
<p>We could make an output parameter of <code>ValidationError</code> type:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword">public</span> Response <span class="hljs-title">Validate</span><span class="hljs-params">(Request r, <span class="hljs-keyword">out</span> ValidationError error)</span>
</span>{
    <span class="hljs-keyword">if</span> (Valid(r))
    { 
        error = <span class="hljs-keyword">new</span> ValidationError(...);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }

    error = <span class="hljs-keyword">null</span>;
    <span class="hljs-function"><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title">Response</span><span class="hljs-params">(r)</span></span>;
}
</code></pre>
<p>Now the interface is more explicit: client won&#39;t be able to completely ignore
the fact that an error is possible. But output parameters are not really
easy to use in C#, especially in fluent-style client code. Moreover, we are
using nulls as a way to represent missing object, which is a smell by itself,
because nulls are not explicit. Never use nulls in your business logic.</p>
<h2 id="return-the-combined-result">Return the combined result</h2>
<p>We could declare a container class which would keep both <code>Response</code> and 
<code>ValidationError</code>, and then return it from the method.</p>
<pre class="highlight"><code class="hljs undefined">public class Both&lt;TData, TError&gt;
{
    public TData Data { get; set; }
    public TErrro Error { get; set; }
}
...
public Both&lt;Response, ValidationError&gt; Validate(Request r)
{
    return Valid(r) 
        ? new Both&lt;Response, ValidationError&gt; { Data = new Response(r) }
        : new Both&lt;Response, ValidationError&gt; { Data = new ValidationError(...) };
}
</code></pre>
<p>Looks much nicer, we are getting there. Now it&#39;s a pure function with input
and output parameters, but we still use null for result state representation.
Let&#39;s see how we can solve it with <strong>Either</strong> data structure.</p>
<h2 id="introducing-either">Introducing Either</h2>
<p>Instead of returning <code>Both</code> with nullable properties, let&#39;s return <code>Either</code> 
with just one of them. When constructing an object, you can specify either
a &#39;left&#39; or a &#39;right&#39; argument, but not both.</p>
<pre class="highlight"><code class="hljs undefined">public class Either&lt;TL, TR&gt;
{
    private readonly TL left;
    private readonly TR right;
    private readonly bool isLeft;

    public Either(TL left)
    {
        this.left = left;
        this.isLeft = true;
    }

    public Either(TR right)
    {
        this.right = right;
        this.isLeft = false;
    }
}
</code></pre>
<p>Now, the main difference is in how the client uses it. There are no properties
to accept <code>Left</code> and <code>Right</code> parts. Instead we define the following method:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-keyword">public</span> T Match&lt;T&gt;(Func&lt;TL, T&gt; leftFunc, Func&lt;TR, T&gt; rightFunc)
    =&gt; <span class="hljs-keyword">this</span>.isLeft ? leftFunc(<span class="hljs-keyword">this</span>.left) : rightFunc(<span class="hljs-keyword">this</span>.right);
</code></pre>
<p>That&#39;s the concept of pattern matching implemented in C# world. If a left value 
is specified, <code>Match</code> will return the result of the left function, otherwise the result
of the right function.</p>
<p>Another improvement would be to create explicit operators for easy conversions
from left and right types:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">implicit</span> <span class="hljs-keyword">operator</span> Either&lt;TL, TR&gt;(TL left) =&gt; <span class="hljs-keyword">new</span> Either&lt;TL, TR&gt;(left);

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">implicit</span> <span class="hljs-keyword">operator</span> Either&lt;TL, TR&gt;(TR right) =&gt; <span class="hljs-keyword">new</span> Either&lt;TL, TR&gt;(right);
</code></pre>
<p>Let&#39;s have a look at a complete example.</p>
<h2 id="why-it-s-great">Why it&#39;s great</h2>
<p>Here is the service code written with <code>Either</code>:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-keyword">public</span> Either&lt;Response, ValidationError&gt; Validate(Request r)
{
    <span class="hljs-function"><span class="hljs-keyword">return</span> <span class="hljs-title">Valid</span><span class="hljs-params">(r)</span> 
        ? Data </span>= <span class="hljs-keyword">new</span> Response(r)
        : <span class="hljs-keyword">new</span> ValidationError(...);
}
</code></pre>
<p>Clean and nice! Now a simplistic client:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-keyword">var</span> validated = service.Validate(request);
Console.WriteLine(
    validated.Match(
        result =&gt; $<span class="hljs-string">"Success: {result}"</span>,
        error =&gt; $<span class="hljs-string">"Error: {error}"</span>)
    );
</code></pre>
<p>Simple, readable , no conditionals, no null checks, no way to silently ignore the fact that
validation may fail.</p>
<h2 id="show-me-the-code">Show me the code</h2>
<p>You can find the definition of <code>Either</code> class in my <a href="https://github.com/mikhailshilkov/mikhailio-samples/blob/master/Either%7BTL%2CTR%7D.cs">github repo</a>.</p>

    </div>

    

    
    <div class="post-tags">
        Posted In: <a href='/tags/functional-programming/'>functional programming</a>, <a href='/tags/clean-code/'>clean code</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Dec 22nd, 2015</div>
    
    <h1><a href='/2015/12/weaving-your-domain-classes-with-fody'>Weaving your domain classes with Fody</a></h1>
    
    <div class="post-content">
        <p>When I model the business domain with C#, the resulting data structures tend to contain a lot of boilerplate code. It&#39;s repeated from class to class and it gets more difficult to see the essence of the model behind the repetitive craft. Here is a simplistic example, which illustrates the problem. Let&#39;s say we are modelling Trips, and for each <code>Trip</code> we need to keep track of <code>Origin</code>, <code>Destination</code> and <code>Vehicle</code> which executes the <code>Trip</code>, nothing else. Here is a code to create an sample trip:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-keyword">var</span> trip = <span class="hljs-keyword">new</span> Trip(
    origin: <span class="hljs-keyword">new</span> Location(<span class="hljs-string">"Paris"</span>, geoParis), 
    destination: <span class="hljs-keyword">new</span> Location(<span class="hljs-string">"Amsterdam"</span>, geoAmsterdam),
    vehicle: <span class="hljs-keyword">new</span> Vehicle(<span class="hljs-string">"TBL-12-H"</span>, Type.HeavyTruck)
</code></pre>
<p>Let&#39;s include these requirements as parts of our trip model:</p>
<ul>
<li>It has a constructor which accepts three arguments (see above)</li>
<li>It has 3 read-only properties which are assigned from constructor parameters</li>
<li>It should not allow null values to be assigned to these properties via constructor</li>
<li>It should be a Value object, that is two objects with same properties should be equal</li>
</ul>
<h2 id="initial-version">Initial version</h2>
<p>First, let&#39;s implement these requirement in a usual way:</p>
<pre class="highlight"><code class="hljs undefined">public class Trip : IEquatable&lt;Trip&gt;
{
    public Trip(Location origin, Location destination, Vehicle vehicle)
    {
        if (origin == null) throw new ArgumentNullException(nameof(origin));
        if (destination == null) throw new ArgumentNullException(nameof(destination));
        if (vehicle == null) throw new ArgumentNullException(nameof(vehicle));

        this.Origin = origin;
        this.Destination = destination;
        this.Vehicle = vehicle;
    }

    public Location Origin { get; }
    public Location Destination { get; }
    public Vehicle Vehicle { get; }

    public bool Equals(Trip other)
    {
        return Equals(this.Origin, other.Origin) 
            &amp;&amp; Equals(this.Destination, other.Destination) 
            &amp;&amp; Equals(this.Vehicle, other.Vehicle);
    }

    public override bool Equals(object obj)
    {
        if (ReferenceEquals(null, obj))
        {
            return false;
        }
        if (ReferenceEquals(this, obj))
        {
            return true;
        }
        if (obj.GetType() != this.GetType())
        {
            return false;
        }
        return Equals((Trip)obj);
    }

    public override int GetHashCode()
    {
        unchecked
        {
            var hashCode = this.Origin.GetHashCode();
            hashCode = (hashCode * 397) ^ this.Destination.GetHashCode();
            hashCode = (hashCode * 397) ^ this.Vehicle.GetHashCode();
            return hashCode;
        }
    }

    public static bool operator ==(Trip tripA, Trip tripB)
    {
        return object.Equals(tripA, tripB);
    }

    public static bool operator !=(Trip tripA, Trip tripB)
    {
        return !object.Equals(tripA, tripB);
    }
}
</code></pre>
<p>That&#39;s a lot of code! It&#39;s very repetitive but it&#39;s also tricky: you can implement it incorrectly in some slight way that wouldn&#39;t be easy to catch until it silently fails one day. So imagine how many tests you need to validate it.</p>
<p>I implemented this code with help of Resharper, which makes it so much easier, but the code is still a heavy luggage to carry on. This class is hard to read and hard to change - every time you add a property you should not forget to update all the corresponding methods. </p>
<p>Are there other options?</p>
<h2 id="introducing-fody">Introducing Fody</h2>
<p><a href="https://github.com/Fody/Fody">Fody</a> is an extensible tool for weaving .NET assemblies. It means that you can use it to improve your code automatically at the time of compilation. Fody itself doesn&#39;t do much to the code, but it has a collection of plugins to actually change it. For this example I will use two of them: </p>
<ul>
<li><a href="https://github.com/Fody/NullGuard"><strong>NullGuard</strong></a> - guards all the input parameters, output parameters and return values of all types in a current assembly not to be null. If null value is passed or returned, the weaved code with throw an exception.</li>
<li><a href="https://github.com/Fody/Equals"><strong>Equals</strong></a> - you can mark a class with <code>[Equals]</code> attribute and Fody will implement <code>Equals()</code> and <code>GetHashCode()</code> methods and <code>==</code> operator for you by comparing all public properties of the annotated class.</li>
</ul>
<p>To install them just execute </p>
<pre class="highlight"><code class="hljs ps">PM&gt; Install-Package NullGuard.Fody
PM&gt; Install-Package Equals.Fody
</code></pre>
<p>The root of your project will now contain the following configuration file:</p>
<pre class="highlight"><code class="hljs xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">Weavers</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">NullGuard</span> <span class="hljs-attribute">IncludeDebugAssert</span>=<span class="hljs-value">"false"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">Equals</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Weavers</span>&gt;</span>
</code></pre>
<p>(I&#39;ve added <code>IncludeDebugAssert</code> attribute manually to disable assert statements in debug mode)</p>
<p>Let&#39;s adjust our class to make use of the plugins:</p>
<pre class="highlight"><code class="hljs cs">[Equals]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Trip</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Trip</span><span class="hljs-params">(Location origin, Location destination, Vehicle vehicle)</span>
    </span>{
        <span class="hljs-keyword">this</span>.Origin = origin;
        <span class="hljs-keyword">this</span>.Destination = destination;
        <span class="hljs-keyword">this</span>.Vehicle = vehicle;
    }

    <span class="hljs-keyword">public</span> Location Origin { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">public</span> Location Destination { <span class="hljs-keyword">get</span>; }
    <span class="hljs-keyword">public</span> Vehicle Vehicle { <span class="hljs-keyword">get</span>; }
}
</code></pre>
<p>And that&#39;s it! We still get the same functionality but the code is just trivial. Let&#39;s see how it works:</p>
<ul>
<li><code>Equals</code> attribute means that we want Fody plugin to implement all the equality-related boilerplate code for this class, including operators and <code>IEquatable&lt;T&gt;</code> implementation. So this plugin is in <em>opt-in</em> mode.</li>
<li>I used no attributes from <code>NullGuard</code> plugin. This plugin works in <em>opt-out</em> mode, i.e. it changes all the classes by default, and if you don&#39;t want it for some piece of code - you can always opt out. This default makes a lot of sense to me: I don&#39;t want any nulls in my code unless I really need them due to some external contracts.</li>
</ul>
<p>Let&#39;s open the resulting assembly in <a href="http://ilspy.net/">ILSpy</a> to see what it compiles to. Here is the constructor:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Trip</span><span class="hljs-params">(Location origin, Location destination, Vehicle vehicle)</span>
</span>{
    <span class="hljs-keyword">bool</span> flag = origin == <span class="hljs-keyword">null</span>;
    <span class="hljs-keyword">if</span> (flag)
    {
        <span class="hljs-function"><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title">ArgumentNullException</span><span class="hljs-params">(<span class="hljs-string">"origin"</span>)</span></span>;
    }
    <span class="hljs-keyword">bool</span> flag2 = destination == <span class="hljs-keyword">null</span>;
    <span class="hljs-keyword">if</span> (flag2)
    {
        <span class="hljs-function"><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title">ArgumentNullException</span><span class="hljs-params">(<span class="hljs-string">"destination"</span>)</span></span>;
    }
    <span class="hljs-keyword">bool</span> flag3 = vehicle == <span class="hljs-keyword">null</span>;
    <span class="hljs-keyword">if</span> (flag3)
    {
        <span class="hljs-function"><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title">ArgumentNullException</span><span class="hljs-params">(<span class="hljs-string">"vehicle"</span>)</span></span>;
    }
    <span class="hljs-keyword">this</span>.&lt;Origin&gt;k__BackingField = origin;
    <span class="hljs-keyword">this</span>.&lt;Destination&gt;k__BackingField = destination;
    <span class="hljs-keyword">this</span>.&lt;Vehicle&gt;k__BackingField = vehicle;
}
</code></pre>
<p>It&#39;s bit more verbose but essentially equivalent to what I did manually before. By default null guard will be very strict, so you will see that even auto-property&#39;s return values are checked:</p>
<pre class="highlight"><code class="hljs cs"><span class="hljs-keyword">public</span> Location Origin
{
    [CompilerGenerated]
    <span class="hljs-keyword">get</span>
    {
        Location expr_06 = <span class="hljs-keyword">this</span>.&lt;Origin&gt;k__BackingField;
        <span class="hljs-keyword">if</span> (expr_06 == <span class="hljs-keyword">null</span>)
        {
            <span class="hljs-function"><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title">InvalidOperationException</span><span class="hljs-params">(<span class="hljs-string">"[NullGuard] Return value of property 'ETA.Domain.Location ETA.Domain.Trip::Origin()' is null."</span>)</span></span>;
        }
        <span class="hljs-keyword">return</span> expr_06;
    }
}
</code></pre>
<p>It doesn&#39;t make much sense to me, so I configured Fody on assembly level to check only arguments and return values:</p>
<pre class="highlight"><code class="hljs cs">[assembly: NullGuard(ValidationFlags.Arguments | ValidationFlags.ReturnValues)]
</code></pre>
<p>Here is a set of operations related to equality (I&#39;ll skip the body in sake of brevity):</p>
<pre class="highlight"><code class="hljs undefined">public class Trip : IEquatable&lt;Trip&gt;
{
    [GeneratedCode("Equals.Fody", "1.4.6.0"), DebuggerNonUserCode]
    private static bool EqualsInternal(Trip left, Trip right) { ... }
    [GeneratedCode("Equals.Fody", "1.4.6.0"), DebuggerNonUserCode]
    public override bool Equals(Trip other) { ... }
    [GeneratedCode("Equals.Fody", "1.4.6.0"), DebuggerNonUserCode]
    public override bool Equals(object obj) { ... }
    [GeneratedCode("Equals.Fody", "1.4.6.0"), DebuggerNonUserCode]
    public override int GetHashCode() { ... }
    [GeneratedCode("Equals.Fody", "1.4.6.0"), DebuggerNonUserCode]
    public static bool operator ==(Trip left, Trip right) { ... }
    [GeneratedCode("Equals.Fody", "1.4.6.0"), DebuggerNonUserCode]
    public static bool operator !=(Trip left, Trip right) { ... }
}
</code></pre>
<p>There is a catch (at least at the time of writing): the auto-generated <code>==</code> and <code>!=</code> operators won&#39;t work properly if you use them inside the same assembly where the type is defined. That&#39;s because the C# compiler will only use these operators properly if they are defined at compile time, and they only get defined after the compilation (weaving takes place after IL is produced). See <a href="https://github.com/Fody/Equals/issues/10">the issue on GitHub</a> for details.</p>
<h2 id="bonus-a-proper-solution">Bonus - a proper solution</h2>
<p>Here is how you actually should define similar types:</p>
<pre class="highlight"><code class="hljs fs"><span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">Trip</span> </span>= 
  { Origin : Location
    Destination : Location
    Vehicle : Vehicle }
</code></pre>
<p>No nulls are possible here and equality works out of the box. There&#39;s just one major detail: it&#39;s F#...</p>

    </div>

    

    
    <div class="post-tags">
        Posted In: <a href='/tags/fody/'>Fody</a>, <a href='/tags/ddd/'>DDD</a>, <a href='/tags/code-generation/'>code generation</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Dec 14th, 2015</div>
    
    <h1><a href='/2015/12/deploy-your-spa-to-azure'>Deploy your SPA to Azure</a></h1>
    
    <div class="post-content">
        <p>In this post I want to share a simple tutorial on how to deploy your single page application into the Azure cloud.</p>
<h2 id="the-goal">The goal</h2>
<p>Here is the initial setup:</p>
<ul>
<li><p>I have a Single Page Application (SPA) done with HTML/JavaScript in a separate local Git repository</p>
</li>
<li><p>I have a ASP.NET 4.6 Web API service which serves the data for SPA in another local Git repository</p>
</li>
<li><p>Now I want to deploy both to the Azure cloud, and make it easy to deploy changes in the future</p>
</li>
</ul>
<h2 id="the-solution">The solution</h2>
<p>We will deploy our application to Azure Cloud Services / Web application.</p>
<ol>
<li><p>Go to <a href="https://portal.azure.com">Azure Portal</a> then <code>App Services -&gt; Add</code> and follow the wizard to create your Web app. Here is mine:
<img src="/2015/12/deploy-your-spa-to-azure/azurewebapp.jpg" alt="Azure web app"></p>
</li>
<li><p>Follow <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-publish-source-control/">this guide</a> to create a new Git repository and setup continuous deployment from this repository to Azure web application. You are good once you see this working (step 6):
<img src="/2015/12/deploy-your-spa-to-azure/git-hello-git.png" alt="Hello git running in Azure"></p>
</li>
<li><p>Copy your SPA files into the root of the new Git repository, here is my repo after I did that:
<img src="/2015/12/deploy-your-spa-to-azure/spa-copied-to-repo.jpg" alt="SPA files in the repo">
and push them to <code>azure</code> remote. Now you should be able to browse to the web app and see your SPA screen, but with all calls to Web API failing.</p>
</li>
<li><p>Inside your new Git repository, create a sub-folder to host Web API services. My SPA expects them under <code>/api</code> folder, so that&#39;s the folder name that I created:
<img src="/2015/12/deploy-your-spa-to-azure/webapi-copied-to-repo.jpg" alt="Web API files in the repo"></p>
</li>
<li><p>Copy your binary compiled files of your Web API to <code>/api</code> sub-folder. This includes the bin folder, config files, asax files etc - whatever you would need in your local IIS deployment. DO NOT copy the sln/csproj files, otherwise the Azure will also try to do the compilation himself and will change the root of your web application to the folder with csproj files. So, my <code>/api</code> folder looks like this:
<img src="/2015/12/deploy-your-spa-to-azure/api-folder.jpg" alt="Web API folder contents"></p>
</li>
<li><p>Commit the changes and Git push to <code>azure</code> remote. Once the files are deployed, your SPA app should be up and running. Well done!</p>
</li>
<li><p>You don&#39;t want to copy the files manually all the time, so make a PowerShell script or gulp task to do that for you. Remember, your changes will be applied whenever you push a new version to <code>azure</code> remote of your Git repo.</p>
</li>
</ol>

    </div>

    

    
    <div class="post-tags">
        Posted In: <a href='/tags/azure/'>Azure</a>, <a href='/tags/asp.net-web-api/'>ASP.NET Web API</a>, <a href='/tags/spa/'>SPA</a>, <a href='/tags/continuous-deployment/'>Continuous deployment</a>, <a href='/tags/git/'>Git</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Nov 24th, 2015</div>
    
    <h1><a href='/2015/11/review-of-jspm-course'>Review of the course &quot;Modern, Modular JavaScript with SystemJS and jspm&quot;</a></h1>
    
    <div class="post-content">
        <p>Recently I was playing with <a href="http://aurelia.io">Aurelia</a> SPA framework, which makes heavy use of jspm and SystemJS for modules/packaging. This package manager is new to me, and it looked a bit like magic sometimes. So when I saw a jspm course on Pluralsight, I decided to give it a try. And I did not regret: the course is great. It&#39;s so good, that I decided to write a review for it, even though I have never done that before. </p>
<p>So, the full course name is &quot;<a href="https://www.pluralsight.com/courses/javascript-systemjs-jspm">Modern, Modular JavaScript with SystemJS and jspm</a>&quot; by Wes Higbee. The topic sounds pretty narrow (compare to something like &quot;Building a Web App with ASP.NET 5, MVC 6, EF7 and AngularJS&quot;), but the video track is surprisingly long: 7.5 hours. And every hour is packed with well structured in-depth material which lays the topic out from A to Z.</p>
<p>The majority of online courses are focusing on just explaining the <em>What</em>&#39;s of a technology: where you get it, how you start quickly, how you solve typical tasks. Wes does not stop there: he is really focusing on <em>Why</em>&#39;s: not only why we should use ES2015 modules and jspm, but the complete logical flow from the best practices in other programming environments to the module patterns to the tools that enable us use the modern approaches in javascript today. The understanding of this reasoning chain sets the solid ground, and you actually start getting the What&#39;s deeper. </p>
<p>But Wes goes even further: he mixes the <em>How</em>&#39;s in. I love watching him breaking the stuff to show why it fails and how to fix it. The references to module dependency graphs and internals of the tools are insightful; that&#39;s how &quot;the magic&quot; transforms into the comprehension of modern open source tools and libraries. </p>
<p>Of course, just watching the course won&#39;t make me an expert in the topic. Now I need to put the knowledge into practice, ask more questions and find answers myself. But I will hopefully save hours of debugging and frustration and will maybe produce better products in the end. Wes and Pluralsight, I definitely need more of courses like this - focused, deep and engaging! </p>
<p>P.S. It was a bit awkward to watch the course in the office because of solitaire cards being shown on my screen. Not sure what my colleagues thought I was doing ;)</p>

    </div>

    

    
    <div class="post-tags">
        Posted In: <a href='/tags/pluralsight/'>pluralsight</a>, <a href='/tags/course/'>course</a>, <a href='/tags/learning/'>learning</a>, <a href='/tags/javascript/'>javascript</a>, <a href='/tags/es2015/'>ES2015</a>, <a href='/tags/jspm/'>jspm</a>, <a href='/tags/systemjs/'>SystemJS</a>
    </div>
    
</article>



    <article class="post">
    <div class="post-date">Aug 11th, 2015</div>
    <h1><a href='/2015/08/units-of-measurement-in-domain-design'>Units of measurement in domain design</a></h1>
    <div class="post-content">
        If you have business application of any decent size, your most important code probably resides in domain logic. When working with 3rd party code, you can always find an answer on stack overflow or official documentation, but your domain is all yours. Try to make it as simple and readable as possible, and it will always pay you back. Today I want to discuss one aspect of writing clean domain code: units of measurement. It is important for any domain (or sub-domain) where you operate some physical measurements.
    </div>
    <div class="post-goundercut">
        <a href='/2015/08/units-of-measurement-in-domain-design'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/units-of-measurement/'>units of measurement</a>, <a href='/tags/domain-design/'>domain design</a>, <a href='/tags/ddd/'>DDD</a>, <a href='/tags/clean-code/'>clean code</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Jul 28th, 2015</div>
    <h1><a href='/2015/07/aurelia-element-animation-with-custom-attribute'>Aurelia element animation with custom attribute</a></h1>
    <div class="post-content">
        I've been exploring Aurelia javascript UI framework recently to get some experience needed for our next big project. One thing that I couldn't implement out of the box was a kind of animation. I have a grid of values bound to View Model. View Model communicates to server, receives any updates of data and the grid got immediately updated, all that works great with Aurelia. Now I want to highlight the cell which has just received an updated value with a small background animation...
    </div>
    <div class="post-goundercut">
        <a href='/2015/07/aurelia-element-animation-with-custom-attribute'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/javascript/'>javascript</a>, <a href='/tags/es2015/'>ES2015</a>, <a href='/tags/aurelia/'>Aurelia</a>, <a href='/tags/animation/'>animation</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">May 27th, 2015</div>
    <h1><a href='/2015/05/peer-code-review-whys-hows-and-whats'>Peer code review Why's, How's and What's</a></h1>
    <div class="post-content">
        This post is a short summary on why do code reviews, what the steps are and what should actually be reviewed. The text was created to set some common ground for my team, which was just starting to conduct code reviews in a consistent way. By any means, this text is not a complete guide but rather a checklist and a starting point for discussion. Get familiar with my 5 WHY's, 8 HOW's and 18 WHAT's of code review.
    </div>
    <div class="post-goundercut">
        <a href='/2015/05/peer-code-review-whys-hows-and-whats'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/code-review/'>code review</a>, <a href='/tags/best-practices/'>best practices</a>, <a href='/tags/checklist/'>checklist</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Apr 8th, 2015</div>
    <h1><a href='/2015/04/unit-testing-null-parameter-checks'>Unit testing null parameter checks</a></h1>
    <div class="post-content">
        We use constructor dependency injection throughout our application. This means that most service classes have constructors, which accept all dependencies in form of interfaces. They are then saved to private fields to be used while class methods are executed. We also use TDD, which means we must write unit tests for every aspect of our code. So I want to discuss one specific aspect: guarding the constructor parameters from null values and testing this guard.
    </div>
    <div class="post-goundercut">
        <a href='/2015/04/unit-testing-null-parameter-checks'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/unit-testing/'>unit testing</a>, <a href='/tags/dependency-injection/'>dependency injection</a>, <a href='/tags/guard/'>guard</a>, <a href='/tags/clean-code/'>clean code</a>, <a href='/tags/best-practices/'>best practices</a>, <a href='/tags/reflection/'>reflection</a>, <a href='/tags/c#/'>C#</a>, <a href='/tags/code-samples/'>code samples</a>, <a href='/tags/tdd/'>TDD</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Mar 15th, 2015</div>
    <h1><a href='/2015/03/the-green-hackfest-my-first-hackathon'>The Green Hackfest - my first hackathon</a></h1>
    <div class="post-content">
        In this post I'd like to share my experience about the first hackathon that I took part in. It was called The Green Hackfest and took place in Utrecht, the Netherlands on 10-12 October 2014. My team won a price of 1000 EURO, so read on to know what hackathon is, why you should go there, and how to score the price. And of course, pictures, pictures, pictures.
    </div>
    <div class="post-goundercut">
        <a href='/2015/03/the-green-hackfest-my-first-hackathon'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/hackathon/'>hackathon</a>, <a href='/tags/hackfest/'>hackfest</a>, <a href='/tags/challenge/'>challenge</a>, <a href='/tags/green-hackfest/'>Green Hackfest</a>, <a href='/tags/green-technologies/'>green technologies</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Feb 17th, 2015</div>
    <h1><a href='/2015/02/how-i-fixed-a-bug-in-sql-server'>How I fixed a bug in SQL Server</a></h1>
    <div class="post-content">
        Our production databases were migrated from SQL Server 2012 to SQL Server 2014. Among other improvements in the latter, the new cardinality estimator was introduced. In two words, cardinality estimator is a piece of SQL functionality which estimates how many rows the engine might get for a specific query or a query part. The new estimator is supposed to be smarter than the old one, of course. It takes more factors into account, and thus should give better results with some query plans. But &quot;new&quot; also means &quot;less tested&quot;...
    </div>
    <div class="post-goundercut">
        <a href='/2015/02/how-i-fixed-a-bug-in-sql-server'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/sql-server/'>SQL Server</a>, <a href='/tags/execution-plan/'>execution plan</a>, <a href='/tags/query-plan/'>query plan</a>, <a href='/tags/database/'>database</a>, <a href='/tags/repro/'>repro</a>, <a href='/tags/erland-sommarskog/'>Erland Sommarskog</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Feb 5th, 2015</div>
    <h1><a href='/2015/02/how-we-do-message-processing'>How we do message processing</a></h1>
    <div class="post-content">
        Our team develops a back-end system that processes messages from mobile devices. The devices collect information from complex machines and send messages to our data center. In this article I want to share our approaches to building such processing software. The ideas are quite general and can be applied to any system of the following architecture...
    </div>
    <div class="post-goundercut">
        <a href='/2015/02/how-we-do-message-processing'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/architecture/'>architecture</a>, <a href='/tags/design/'>design</a>, <a href='/tags/messages/'>messages</a>, <a href='/tags/message-processing/'>message processing</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Oct 16th, 2014</div>
    <h1><a href='/2014/10/16/nice-way-to-kill-your-sql-server'>Nice way to kill your SQL Server</a></h1>
    <div class="post-content">
        The short story about how to crash your complete system by missing one line of code in SQL Server stored procedure.
    </div>
    <div class="post-goundercut">
        <a href='/2014/10/16/nice-way-to-kill-your-sql-server'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/bugs/'>Bugs</a>, <a href='/tags/error-log/'>Error log</a>, <a href='/tags/sql-server/'>SQL Server</a>, <a href='/tags/sql-server-service broker/'>SQL Server Service Broker</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Jun 3rd, 2014</div>
    <h1><a href='/2014/06/03/sql-produce-resultset-with-n-rows'>SQL: produce resultset with N rows</a></h1>
    <div class="post-content">
        Sometimes you need to produce a result set, which would contain N rows with numbers 1...N in each row. For example, I needed to calculate some statistics per week for N weeks starting from today and going back to the past.
    </div>
    <div class="post-goundercut">
        <a href='/2014/06/03/sql-produce-resultset-with-n-rows'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/performance/'>performance</a>, <a href='/tags/sql-server/'>SQL Server</a>, <a href='/tags/t-sql/'>T-SQL</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">May 21st, 2014</div>
    <h1><a href='/2014/05/21/sgen-to-precompile-classes-for-xmpserializer'>Sgen to precompile classes for XmlSerializer</a></h1>
    <div class="post-content">
        During my investigation of our ASP.NET application performance issue, I've found out that XmlSerializer may require a long warm-up. The first time, when it's used for a specific class (de-)serialization, can take up to 500 ms om my machine! We use XmlSerializer to encode/decode user preferences. Having 40 different classes being deserialized at user login lead to a massive delay of 14 seconds.
    </div>
    <div class="post-goundercut">
        <a href='/2014/05/21/sgen-to-precompile-classes-for-xmpserializer'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/.net/'>.NET</a>, <a href='/tags/asp.net/'>ASP.NET</a>, <a href='/tags/c#/'>C#</a>, <a href='/tags/debugging/'>debugging</a>, <a href='/tags/msbuild/'>MSBuild</a>, <a href='/tags/performance/'>performance</a>, <a href='/tags/sgen/'>Sgen</a>, <a href='/tags/xmlserializer/'>XmlSerializer</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Jan 6th, 2013</div>
    <h1><a href='/2013/01/06/poker-money-application-for-windows-store'>Poker Money application for Windows Store</a></h1>
    <div class="post-content">
        Windows 8 / Windows RT / Windows Store all arrived in October 2012. I've decided to take a shot on writing a commercial application for this new platform. And that's how Poker Money app appeared.
    </div>
    <div class="post-goundercut">
        <a href='/2013/01/06/poker-money-application-for-windows-store'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/full-tilt-poker/'>Full Tilt Poker</a>, <a href='/tags/poker/'>Poker</a>, <a href='/tags/poker-money/'>Poker Money</a>, <a href='/tags/poker-money-application/'>Poker Money application</a>, <a href='/tags/poker-stars/'>Poker Stars</a>, <a href='/tags/windows-8/'>Windows 8</a>, <a href='/tags/windows-rt/'>Windows RT</a>, <a href='/tags/windows-store/'>Windows Store</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Dec 26th, 2012</div>
    <h1><a href='/2012/12/26/one-certificate-missing-one-received-unexpectedly'>One certificate missing, one received unexpectedly</a></h1>
    <div class="post-content">
        Today I want to give a note about two more online courses that I completed. The last one (10 weeks in September-November) was called Introduction to Computational Finance and Financial Econometrics and was lead by Eric Zivot from University of Washington. First of all, it was the most intense course out of all that I took to date.
    </div>
    <div class="post-goundercut">
        <a href='/2012/12/26/one-certificate-missing-one-received-unexpectedly'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/coursera/'>Coursera</a>, <a href='/tags/online-classes/'>Online Classes</a>, <a href='/tags/online-learning/'>Online Learning</a>, <a href='/tags/statement-of-accomplishment/'>Statement of Accomplishment</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Nov 1st, 2012</div>
    <h1><a href='/2012/11/01/finance-class-at-coursera'>Introduction to Finance class at Coursera</a></h1>
    <div class="post-content">
        I've recently received a statement of accomplishment document for Coursera's online Introduction to Finance class that I took in July-September this year.
    </div>
    <div class="post-goundercut">
        <a href='/2012/11/01/finance-class-at-coursera'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/coursera/'>Coursera</a>, <a href='/tags/finance/'>finance</a>, <a href='/tags/online-classes/'>Online Classes</a>, <a href='/tags/online-learning/'>Online Learning</a>, <a href='/tags/statement-of-accomplishment/'>Statement of Accomplishment</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Oct 29th, 2012</div>
    <h1><a href='/2012/10/29/gamification-class-at-coursera'>Gamification class at Coursera</a></h1>
    <div class="post-content">
        I've recently received a statement of accomplishment document for Coursera's online Gamification class that I took in August-October this year.
    </div>
    <div class="post-goundercut">
        <a href='/2012/10/29/gamification-class-at-coursera'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/coursera/'>Coursera</a>, <a href='/tags/gamification/'>gamification</a>, <a href='/tags/online-classes/'>Online Classes</a>, <a href='/tags/online-learning/'>Online Learning</a>, <a href='/tags/statement-of-accomplishment/'>Statement of Accomplishment</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Sep 2nd, 2012</div>
    <h1><a href='/2012/09/02/use-fiddler-to-debug-urlfetch-requests-in-google-appengine'>Use Fiddler to debug urlfetch requests in Google AppEngine</a></h1>
    <div class="post-content">
        In TripBenefit application, we use a lot of web crawling to get data from third-party websites. As the application works on top of Google AppEngine, the urlfetch.fetch() function is used to send HTTP requests and get responses. Some crawling is not as easy as just a simple GET request, so we have to send specific POST data, cookies and HTTP headers. And all this needs to be debugged. Fiddler2 is the gold standard for web debugging tools, so I'd like to use it in this case too. I.e. I want to see urlfetch requests displayed in Fiddler, while I'm on development env.
    </div>
    <div class="post-goundercut">
        <a href='/2012/09/02/use-fiddler-to-debug-urlfetch-requests-in-google-appengine'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/appengine/'>AppEngine</a>, <a href='/tags/debugging/'>debugging</a>, <a href='/tags/fiddler/'>Fiddler</a>, <a href='/tags/google-appengine/'>Google AppEngine</a>, <a href='/tags/python/'>Python</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Aug 14th, 2012</div>
    <h1><a href='/2012/08/14/google-adds-public-transit-into-api'>Google adds Public Transit into API</a></h1>
    <div class="post-content">
        Now, both Google Directions Web Services and Google Maps JavaScript API include building the routes with Public Transit.
    </div>
    <div class="post-goundercut">
        <a href='/2012/08/14/google-adds-public-transit-into-api'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/google-maps/'>Google Maps</a>, <a href='/tags/google-transit/'>Google Transit</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Jul 26th, 2012</div>
    <h1><a href='/2012/07/26/enable-jinja2-and-i18n-translations-on-google-appengine'>Enable jinja2 and i18n translations on Google AppEngine</a></h1>
    <div class="post-content">
        My initial goal was to make our new application (based on python/AppEngine) translatable. This means the following requirements: (1) All strings in the application must be translatable (2) Translations should preferably stored in separate files (3) It should be easy to use the translations both in .py files and html templates
    </div>
    <div class="post-goundercut">
        <a href='/2012/07/26/enable-jinja2-and-i18n-translations-on-google-appengine'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/appengine/'>AppEngine</a>, <a href='/tags/i18n/'>i18n</a>, <a href='/tags/jinja2/'>jinja2</a>, <a href='/tags/python/'>Python</a>, <a href='/tags/translations/'>Translations</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Jun 21st, 2012</div>
    <h1><a href='/2012/06/21/model-thinking-class-at-coursera'>Model Thinking class at Coursera</a></h1>
    <div class="post-content">
        I've recently received a statement of accomplishment document for Coursera's online Model Thinking Class that I took in April-May this year.
    </div>
    <div class="post-goundercut">
        <a href='/2012/06/21/model-thinking-class-at-coursera'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/coursera/'>Coursera</a>, <a href='/tags/model-thinking/'>Model Thinking</a>, <a href='/tags/online-classes/'>Online Classes</a>, <a href='/tags/online-learning/'>Online Learning</a>, <a href='/tags/statement-of-accomplishment/'>Statement of Accomplishment</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">May 17th, 2012</div>
    <h1><a href='/2012/05/17/api-to-get-the-list-of-hotels'>API to get the list of hotels</a></h1>
    <div class="post-content">
        In our travelling application, we need to show the list of hotels in a city (St. Petersburg, Russia at the moment, but more will be needed in the future). The idea was to find a hotel information provider, and then upload the complete list into our own database.
    </div>
    <div class="post-goundercut">
        <a href='/2012/05/17/api-to-get-the-list-of-hotels'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/hotels-api/'>Hotels API</a>, <a href='/tags/hotelscombined/'>HotelsCombined</a>, <a href='/tags/public-api/'>Public API</a>, <a href='/tags/python/'>Python</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">May 16th, 2012</div>
    <h1><a href='/2012/05/16/books-that-ive-recently-read-part-2'>Books that I’ve recently read, part 2</a></h1>
    <div class="post-content">
        Reviews of &quot;Rework&quot; by Jason Fried and David Heinemeier Hansson, &quot;Don't Make Me Think&quot; by Steve Krug, &quot;The Non-Designer's Design Book&quot; by Robin Williams and &quot;The Toilet Paper Entrepreneur&quot; by Mike Michaliwicz.
    </div>
    <div class="post-goundercut">
        <a href='/2012/05/16/books-that-ive-recently-read-part-2'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/books/'>Books</a>, <a href='/tags/business-books/'>Business books</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Apr 10th, 2012</div>
    <h1><a href='/2012/04/10/google-transit-api-research'>Google Transit API research</a></h1>
    <div class="post-content">
        Recently, Google has launch a Transit service for the biggest cities of Russia: a service to caculate routes with public transport options. As a part of RnD for upcoming project, I need to understand whether there's any feasible way to calculate public transport route programmatically. I.e. I need Google Transit API.
    </div>
    <div class="post-goundercut">
        <a href='/2012/04/10/google-transit-api-research'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/api/'>API</a>, <a href='/tags/google-maps/'>Google Maps</a>, <a href='/tags/google-transit/'>Google Transit</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Mar 13th, 2012</div>
    <h1><a href='/2012/03/13/multi-level-teleriks-tileview'>Multi-level telerik's TileView</a></h1>
    <div class="post-content">
        We were investigating the options for visual representation of hierarchical dashboard in our Silverlight application. This means, we want to display the number of gauges with tree-like structure. Here is a sample...
    </div>
    <div class="post-goundercut">
        <a href='/2012/03/13/multi-level-teleriks-tileview'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/c#/'>C#</a>, <a href='/tags/silverlight/'>Silverlight</a>, <a href='/tags/telerik/'>Telerik</a>, <a href='/tags/tileview/'>TileView</a>, <a href='/tags/user-contol/'>User Contol</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Mar 1st, 2012</div>
    <h1><a href='/2012/03/01/books-that-ive-recently-read'>Books that I've recently read</a></h1>
    <div class="post-content">
        My reviews of &quot;Steve Jobs&quot; by Walter Isaacson, &quot;The Art of the Start&quot; by Guy Kawasaki, &quot;How to Become a Businessman&quot; and &quot;I'm Just Like Anyone Else&quot; by Oleg Tinkov.
    </div>
    <div class="post-goundercut">
        <a href='/2012/03/01/books-that-ive-recently-read'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/books/'>Books</a>, <a href='/tags/business-books/'>Business books</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Feb 28th, 2012</div>
    <h1><a href='/2012/02/28/gauge-control-with-two-values-silverlight'>Gauge control with two values (Silverlight)</a></h1>
    <div class="post-content">
        While developing the dashboard to display several performance indexes, I bumped into the task of visualizing the pair of numbers on a single gauge. One number would show a person's performance metric, while the other one would display the person group's performance indicator to compare with. I couldn't find a ready control to use, so I decided to design my own.
    </div>
    <div class="post-goundercut">
        <a href='/2012/02/28/gauge-control-with-two-values-silverlight'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/gauge-control/'>gauge control</a>, <a href='/tags/silverlight/'>Silverlight</a>, <a href='/tags/user-control/'>User Control</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Feb 5th, 2012</div>
    <h1><a href='/2012/02/05/hunting-memory-leaks-in-silverlight'>Hunting memory leaks in Silverlight</a></h1>
    <div class="post-content">
        Recently, I've spent a couple of days seeking and fixing memory leaks in our Silverlight application. It might be tough sometimes, but it's a good 'brain-teasing' practice and it's a good way to learn how inner things work.
    </div>
    <div class="post-goundercut">
        <a href='/2012/02/05/hunting-memory-leaks-in-silverlight'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/c#/'>C#</a>, <a href='/tags/fixing-memory-leaks/'>fixing memory leaks</a>, <a href='/tags/memory-leaks/'>Memory leaks</a>, <a href='/tags/silverlight/'>Silverlight</a>, <a href='/tags/windbg/'>WinDbg</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Feb 1st, 2012</div>
    <h1><a href='/2012/02/01/machine-learning-class-at-stanford-online'>Machine Learning class at Stanford online</a></h1>
    <div class="post-content">
        Several days ago, I've received a Statement of Accomplishment document from Andrew Ng and Machine Learning online class team.
    </div>
    <div class="post-goundercut">
        <a href='/2012/02/01/machine-learning-class-at-stanford-online'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/machine-learning/'>Machine Learning</a>, <a href='/tags/online-classes/'>Online Classes</a>, <a href='/tags/online-learning/'>Online Learning</a>, <a href='/tags/stanford/'>Stanford</a>, <a href='/tags/statement-of-accomplishment/'>Statement of Accomplishment</a>
    </div>
    
</article>

    <article class="post">
    <div class="post-date">Jan 26th, 2012</div>
    <h1><a href='/2012/01/26/speech-bubble-control-in-sl'>Speech bubble custom border control in Silverlight</a></h1>
    <div class="post-content">
        Recently, I was trying to find a Silverlight control, which works like a standard Border, but looks like a Speech Bubble instead. This means the border would have a &quot;leader&quot; triangle, which could point to a related visual element.
    </div>
    <div class="post-goundercut">
        <a href='/2012/01/26/speech-bubble-control-in-sl'>Read further</a>
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/c#/'>C#</a>, <a href='/tags/silverlight/'>Silverlight</a>, <a href='/tags/speech-bubble/'>Speech Bubble</a>, <a href='/tags/user-control/'>User Control</a>, <a href='/tags/wpf/'>WPF</a>
    </div>
    
</article>


<div id="me">
    <p itemscope itemtype="http://data-vocabulary.org/Person">
        <img src="/images/Headshot-Square.jpg" alt="Mikhail Shilkov" itemprop="photo" />
        I'm <b><span itemprop="name">Mikhail Shilkov</span></b>, a <span itemprop="title">software developer</span>. I enjoy C#, Javascript and SQL development and I blog about my experience on this website.
    </p>
    <p>
        <a href="https://www.linkedin.com/in/mikhailshilkov/">LinkedIn</a> &#8226;
        <a href="http://twitter.com/mikhailshilkov">@mikhailshilkov</a> &#8226;
        <a href="https://github.com/mikhailshilkov">GitHub</a> &#8226;
        <a href="http://stackoverflow.com/users/1171619/mikhail">Stack Overflow</a>
    </p>
</div>

</div>
<div class="container">
    <div class="navbar navbar-footer">
        <p class="navbar-center navbar-text">Content copyright &copy; 2015 Mikhail Shilkov</p>
    </div>
</div>



<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.pack.js"></script>
<script src="/vendor/highlight.pack.js"></script>
<script src="/site.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59218480-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>